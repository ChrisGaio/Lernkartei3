<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PDF zu Lernkartei</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.10.377/pdf.min.js"></script>
<style>
body { font-family: Arial, sans-serif; margin: 20px; }
textarea { width: 100%; height: 200px; }
button { margin-top: 10px; padding: 10px; }
</style>
</head>
<body>
<h1>PDF zu Lernkartei</h1>
<input type="file" id="pdfUpload" accept="application/pdf">
<button id="processPdf">Verarbeiten</button>
<h2>Generierter Text</h2>
<textarea id="output"></textarea>
<script>
document.getElementById('processPdf').addEventListener('click', async () => {
    const file = document.getElementById('pdfUpload').files[0];
    if (!file) {
        alert("Bitte zuerst ein PDF ausw√§hlen.");
        return;
    }
    const fileReader = new FileReader();
    fileReader.onload = async function() {
        const typedarray = new Uint8Array(this.result);
        const pdf = await pdfjsLib.getDocument(typedarray).promise;
        let textContent = "";
        for (let i = 1; i <= pdf.numPages; i++) {
            const page = await pdf.getPage(i);
            const text = await page.getTextContent();
            const pageText = text.items.map(item => item.str).join(" ");
            textContent += "\n\nSeite " + i + ":\n" + pageText;
        }
        document.getElementById('output').value = textContent;
        alert("PDF-Text extrahiert. Jetzt kannst du den Text in ChatGPT laden, um Fragen & Antworten zu generieren.");
    };
    fileReader.readAsArrayBuffer(file);
});
</script>
</body>
</html>
